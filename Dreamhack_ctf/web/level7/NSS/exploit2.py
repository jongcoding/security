import requests
host="http://host3.dreamhack.games:9705/api"
id="ialleeja"
passowrd="1234567891434"
def reg(id, password):
    data={
        "userid":id,
        "pass":password
    }
    r=requests.post(host+"/users", json=data).json()
    if "already" in str(r):
        print("id가 이미 존재합니다")
    elif "Password  too short" in str(r):
        print("비밀번호가 많이 짧음")
    elif "True" in str(r):
        print("회원가입 완료")
    else:
        print(r)
def auth(id, password):
    data={
        "userid":id,
        "pass":password
    }
    r=requests.post(host+"/users/auth", json=data).json()
    token=r['token']
    print("token is:", token)
    return token
def wk(id,token):
    data={
        "userid":id,
        "pass":password
    }
    r=requests.post(host+f"/users/{id}?token={token}").json()
    print(r)
reg(id,passowrd)
token=auth(id, passowrd)
wk(id,token)